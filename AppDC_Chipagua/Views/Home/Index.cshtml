@{
    ViewData["Title"] = "AppDC Chipagua - Reclamos";
}
@model List<Reclamo>


<h2>Lista de reclamos</h2>
<a class="btn btn-primary" asp-controller="Home" asp-action="CreateReclamo">Agregar reclamo</a>


<form method="get" asp-controller="Home" asp-action="Index">
    <div class="form-group">
        <label for="direccionMonto">Filtro de montos</label>
        <select class="form-control" id="direccionMonto" name="direccionMonto">
            <option value="Mayor a" selected="@(ViewBag.DireccionMonto == "Mayor a" ? "selected" : null)">Mayor a</option>
            <option value="Menor a" selected="@(ViewBag.DireccionMonto == "Menor a" ? "selected" : null)">Menor a</option>
        </select>
    </div>
    <div class="form-group">
        <input type="number" class="form-control" name="monto" value="@ViewBag.Monto" placeholder="Monto">
    </div>
    <button type="submit" class="btn btn-secondary">Aplicar</button>
</form>


<table class="table">
    <thead class="thead-dark">
        <tr>
            <th scope="col">#</th>
            <th scope="col">Nombre proveedor</th>
            <th scope="col">Dirección proveedor</th>
            <th scope="col">Nombres consumidor</th>
            <th scope="col">Apellidos consumidor</th>
            <th scope="col">DUI</th>
            <th scope="col">Detalle reclamo</th>
            <th scope="col">Monto reclamado</th>
            <th scope="col">Teléfono</th>
            <th scope="col">Fecha ingreso</th>
        </tr>
    </thead>
    <tbody>
        @foreach(var reclamo in Model){
            <tr>
                <th scope="row">@reclamo.IdReclamo</th>
                <td>@reclamo.NombreProveedor</td>
                <td>@reclamo.DireccionProveedor</td>
                <td>@reclamo.NombresConsumidor</td>
                <td>@reclamo.ApellidosConsumidor</td>
                <td>@reclamo.DUI</td>
                <td>@reclamo.DetalleReclamo</td>
                <td>@reclamo.MontoReclamado</td>
                <td>@reclamo.Telefono</td>
                <td>@reclamo.FechaIngreso</td>
            </tr>
        }
    </tbody>
</table>



@if (TempData.Peek("MensajeExito") != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["MensajeExito"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}

@if (TempData["MensajeError"] != null)
{
    <div class="alert alert-info alert-dismissible fade show" role="alert">
        @TempData["MensajeError"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}